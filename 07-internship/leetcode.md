### 线段树

OI wiki 这里写的很好

https://oi-wiki.org/ds/seg

不考虑 sort 的话，线段树建树的时间是 $O(n)$ 。考虑把长度为 $n$ 的数组放到最底层，得到最终的线段树需要 $n - 1$ 次的合并。每次合并的时间是 $O(1) $

线段树的区间查询时间是 $O(\log n)$ ，查询区间的左右端点分别需要 $\log n$ 的时间走到最底下。







